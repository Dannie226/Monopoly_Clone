import*as e from"three";import{GLTFLoader as t}from"three/examples/jsm/loaders/GLTFLoader";import{RGBELoader as o}from"three/examples/jsm/loaders/RGBELoader";import*as r from"../libs/tween";import{GUI as a}from"dat.gui";import{Globals as n}from"./logic/Globals";import{Dice as i}from"./logic/Dice";const{innerWidth:s,innerHeight:d}=window,l=new e.WebGLRenderer,m=(l.setSize(s,d),l.setClearColor(12571109),document.body.appendChild(l.domElement),new e.Scene),_=new e.PerspectiveCamera(75,s/d,100,3e3),c=(_.position.y=1e3,_.position.x=2e3,n.camera=_,new e.DirectionalLight),p=(m.add(c),new e.PMREMGenerator(l)),h=new t,u=new e.Group,f=new a,g=(h.load("../die.glb",e=>{i.init();e=e.scene.getObjectByName("Box001_Material_#25_0");const t=i.createDie(e);m.add(t.getMesh()),t.roll()}),h.load("../board.glb",e=>{for(const t of["Top_Hat_09_-_Default_0","Iron_09_-_Default_0","Wheel_Barrow_09_-_Default_0","Thimble_09_-_Default_0"]){const o=e.scene.getObjectByName(t);o.geometry.rotateX(-Math.PI/2),o.geometry.rotateY(Math.PI/2),u.add(o)}_.position.set(0,975,0),_.quaternion.set(-Math.SQRT1_2,0,0,Math.SQRT1_2),u.add(e.scene.getObjectByName("Board_01_-_Default_0")),u.children[4].geometry.rotateX(-Math.PI/2),u.children[4].position.z=-5,m.add(u)}),new o);function w(){r.update(),i.update(),l.render(m,_),requestAnimationFrame(w)}g.load("https://threejs.org/examples/textures/equirectangular/pedestrian_overpass_1k.hdr",function(e){m.environment=p.fromEquirectangular(e).texture}),w();