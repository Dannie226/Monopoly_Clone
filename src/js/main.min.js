import*as e from"three";import{GLTFLoader as t}from"three/examples/jsm/loaders/GLTFLoader";import{OrbitControls as o}from"three/examples/jsm/controls/OrbitControls";import{RGBELoader as r}from"three/examples/jsm/loaders/RGBELoader";import*as n from"../libs/tween";import{GUI as a}from"dat.gui";import{Player as i}from"./logic/Player";const{innerWidth:s,innerHeight:m}=window,l=new e.WebGLRenderer,d=(l.setSize(s,m),l.setClearColor(12571109),document.body.appendChild(l.domElement),new e.Scene),_=new e.PerspectiveCamera(75,s/m,100,3e3),c=(_.position.y=1e3,_.position.x=2e3,new e.DirectionalLight),p=(d.add(c),new o(_,l.domElement)),u=new e.PMREMGenerator(l),h=new t,f=new e.Group,g=new a,w=(h.load("../scene.glb",function(e){for(const o of["Top_Hat_09_-_Default_0","Iron_09_-_Default_0","Wheel_Barrow_09_-_Default_0","Thimble_09_-_Default_0"]){const r=e.scene.getObjectByName(o);r.geometry.rotateX(-Math.PI/2),r.geometry.rotateY(Math.PI/2),f.add(r)}const t=new i(null,"Daniel",f.children[1]);t.goToPosition(11),setTimeout(t.goToPosition.bind(t,10),5e3),f.add(e.scene.getObjectByName("Board_01_-_Default_0")),f.children[4].geometry.rotateX(-Math.PI/2),f.children[4].position.z=-5,d.add(f)}),new r);function b(){n.update(),l.render(d,_),requestAnimationFrame(b)}w.load("https://threejs.org/examples/textures/equirectangular/pedestrian_overpass_1k.hdr",function(e){d.environment=u.fromEquirectangular(e).texture}),b();