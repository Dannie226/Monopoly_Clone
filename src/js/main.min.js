import*as e from"three";import{GLTFLoader as t}from"three/examples/jsm/loaders/GLTFLoader";import{RGBELoader as o}from"three/examples/jsm/loaders/RGBELoader";import*as r from"../libs/tween";import{GUI as a}from"dat.gui";import{Player as n}from"./logic/Player";import{Globals as i}from"./logic/Globals";const{innerWidth:s,innerHeight:l}=window,m=new e.WebGLRenderer,d=(m.setSize(s,l),m.setClearColor(12571109),document.body.appendChild(m.domElement),new e.Scene),_=new e.PerspectiveCamera(75,s/l,100,3e3),c=(_.position.y=1e3,_.position.x=2e3,i.camera=_,new e.DirectionalLight),p=(d.add(c),new e.PMREMGenerator(m)),u=new t,h=new e.Group,f=new a,g=(u.load("../scene.glb",function(e){for(const o of["Top_Hat_09_-_Default_0","Iron_09_-_Default_0","Wheel_Barrow_09_-_Default_0","Thimble_09_-_Default_0"]){const r=e.scene.getObjectByName(o);r.geometry.rotateX(-Math.PI/2),r.geometry.rotateY(Math.PI/2),h.add(r)}_.position.set(0,2e3,0),_.quaternion.set(-Math.SQRT1_2,0,0,Math.SQRT1_2);const t=new n(null,"Daniel",h.children[1]);t.goToPosition(11),setTimeout(t.goToPosition.bind(t,10),15e3),h.add(e.scene.getObjectByName("Board_01_-_Default_0")),h.children[4].geometry.rotateX(-Math.PI/2),h.children[4].position.z=-5,d.add(h)}),new o);function w(){r.update(),m.render(d,_),requestAnimationFrame(w)}g.load("https://threejs.org/examples/textures/equirectangular/pedestrian_overpass_1k.hdr",function(e){d.environment=p.fromEquirectangular(e).texture}),w();